syntax = "proto3";

package rsync;

enum OpType {
    OpBlock = 0;
    OpData = 1;
    OpHash = 2; // This isn't actually used by the rsync package, only its
                // sproto subpackage, but having it makes conversion easier.
    OpBlockRange = 3;
}

message Operation {
    OpType type = 1;
    uint64 blockIndex = 2;
    uint64 blockIndexEnd = 3;
    bytes data = 4;
}

message BlockHash {
    uint64 index = 1;
    bytes strongHash = 2;
    uint32 weakHash = 3;
}
